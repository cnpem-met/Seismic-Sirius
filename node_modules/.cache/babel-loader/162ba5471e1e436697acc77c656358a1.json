{"ast":null,"code":"var _jsxFileName = \"/home/reftek/seismic-sirius/src/modules/speedometer/speedometer.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport './speedometer.css';\nexport default class Speedometer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      percentage: 0\n    };\n  }\n\n  componentDidMount() {\n    this.setSpeed();\n    setInterval(this.setSpeed.bind(this), 5000);\n  }\n\n  setSpeed() {\n    fetch('http://10.0.38.242/api/index.php?option=samplerate').then(response => response.json()).then(responseJson => {\n      $('.semi-donut').css({\n        \"--from\": `${this.state.percentage * 0.18}deg`\n      });\n      $('.semi-donut').css({\n        \"--to\": `${responseJson.monitor.status * 0.18}deg`\n      });\n      $('.semi-donut').css({\n        \"animation\": \"setSpeed 1s forwards\"\n      });\n      setTimeout(() => {\n        $('.semi-donut').css({\n          \"animation\": \"none\"\n        });\n        $('.semi-donut').css({\n          \"transform\": `rotate(${responseJson.monitor.status * 0.18}deg)`\n        });\n      }, 1000);\n      this.setState({\n        percentage: responseJson.monitor.status\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"speedometer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circular-chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"semi-donut\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }, this.state.percentage, \" Hz\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chart-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"begin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, this.props.begin), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, this.props.end)));\n  }\n\n}","map":{"version":3,"sources":["/home/reftek/seismic-sirius/src/modules/speedometer/speedometer.js"],"names":["React","Component","$","Speedometer","constructor","props","state","percentage","componentDidMount","setSpeed","setInterval","bind","fetch","then","response","json","responseJson","css","monitor","status","setTimeout","setState","render","begin","end"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAO,mBAAP;AAEA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAmC;AAE9CG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,UAAU,EAAE;AAAb,KAAb;AACH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL;AACAC,IAAAA,WAAW,CAAC,KAAKD,QAAL,CAAcE,IAAd,CAAmB,IAAnB,CAAD,EAA2B,IAA3B,CAAX;AACH;;AAEDF,EAAAA,QAAQ,GAAE;AACNG,IAAAA,KAAK,CAAC,oDAAD,CAAL,CACKC,IADL,CACWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADxB,EAEKF,IAFL,CAEUG,YAAY,IAAI;AAClBd,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBe,GAAjB,CAAqB;AAAC,kBAAW,GAAE,KAAKX,KAAL,CAAWC,UAAX,GAAwB,IAAK;AAA3C,OAArB;AACAL,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBe,GAAjB,CAAqB;AAAC,gBAAS,GAAED,YAAY,CAACE,OAAb,CAAqBC,MAArB,GAA8B,IAAK;AAA/C,OAArB;AACAjB,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBe,GAAjB,CAAqB;AAAC,qBAAa;AAAd,OAArB;AACAG,MAAAA,UAAU,CAAC,MAAM;AACblB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBe,GAAjB,CAAqB;AAAC,uBAAa;AAAd,SAArB;AACAf,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBe,GAAjB,CAAqB;AAAC,uBAAc,UAASD,YAAY,CAACE,OAAb,CAAqBC,MAArB,GAA8B,IAAK;AAA3D,SAArB;AACH,OAHS,EAGP,IAHO,CAAV;AAIA,WAAKE,QAAL,CAAc;AAACd,QAAAA,UAAU,EAAES,YAAY,CAACE,OAAb,CAAqBC;AAAlC,OAAd;AACH,KAXL;AAYH;;AAGDG,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKhB,KAAL,CAAWC,UAArC,QAFJ,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB,KAAKF,KAAL,CAAWkB,KAAnC,CADJ,eAEI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsB,KAAKlB,KAAL,CAAWmB,GAAjC,CAFJ,CALJ,CADJ;AAYH;;AAzC6C","sourcesContent":["import React, {Component} from 'react';\nimport $ from 'jquery';\nimport './speedometer.css'\n\nexport default class Speedometer extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {percentage: 0}\n    }\n\n    componentDidMount(){\n        this.setSpeed();\n        setInterval(this.setSpeed.bind(this), 5000);\n    }\n\n    setSpeed(){\n        fetch('http://10.0.38.242/api/index.php?option=samplerate')\n            .then((response) => response.json())\n            .then(responseJson => {\n                $('.semi-donut').css({\"--from\": `${this.state.percentage * 0.18}deg`});\n                $('.semi-donut').css({\"--to\": `${responseJson.monitor.status * 0.18}deg`});\n                $('.semi-donut').css({\"animation\": \"setSpeed 1s forwards\"});\n                setTimeout(() => {\n                    $('.semi-donut').css({\"animation\": \"none\"});\n                    $('.semi-donut').css({\"transform\": `rotate(${responseJson.monitor.status * 0.18}deg)`});\n                }, 1000)\n                this.setState({percentage: responseJson.monitor.status})\n            });\n    }\n    \n\n    render(){\n        return(\n            <div className=\"speedometer\">\n                <div className=\"circular-chart\">\n                    <div className=\"semi-donut\"></div>\n                    <div className=\"content\">{this.state.percentage} Hz</div>\n                </div>\n                <div className=\"chart-footer\">\n                    <div className=\"begin\">{this.props.begin}</div>\n                    <div className=\"end\">{this.props.end}</div>\n                </div>\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}