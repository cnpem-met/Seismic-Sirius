{"ast":null,"code":"import _classCallCheck from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./monitoring.css';import $ from'jquery';var Monitoring=/*#__PURE__*/function(_Component){_inherits(Monitoring,_Component);var _super=_createSuper(Monitoring);function Monitoring(props){var _this;_classCallCheck(this,Monitoring);_this=_super.call(this,props);_this.state={status:_this.props.status,lastBoot:_this.props.lastBoot};return _this;}_createClass(Monitoring,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateMonitor();this.menuPressed();setInterval(setInterval(this.updateMonitor.bind(this),1000));}},{key:\"updateMonitor\",value:function updateMonitor(){var _this2=this;fetch(\"http://10.0.38.242/api/index.php?option=\".concat(this.props.title.toLowerCase())).then(function(response){return response.json();}).then(function(responseJson){_this2.setState({status:responseJson.monitor.status,lastBoot:responseJson.monitor.last});});}},{key:\"menuPressed\",value:function menuPressed(){if(this.state.status===\"ON\"){$(\".informations #\".concat(this.props.title)).css({\"color\":\"rgb(1, 176, 117)\"});$(\".informations #\".concat(this.props.title)).css({\"text-shadow\":\"0px 0.3px 4px  rgb(1, 176, 117)\"});$(\".subtitle #b\".concat(this.props.title)).css({\"background-color\":\"red\"});return\"STOP\";}else{$(\".informations #\".concat(this.props.title)).css({\"color\":\"red\"});$(\".informations #\".concat(this.props.title)).css({\"text-shadow\":\"0px 0.3px 4px  red\"});$(\".subtitle #b\".concat(this.props.title)).css({\"background-color\":\"rgb(1, 176, 117)\"});return\"START\";}}},{key:\"buttonAction\",value:function buttonAction(){var _this3=this;fetch(\"http://10.0.38.242/api/updateMonitor.php?option=\".concat(this.props.title.toLowerCase())).then(function(){if(_this3.state.status===\"ON\"){_this3.setState({status:\"OFF\"});}else{_this3.setState({status:\"ON\"});}});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"informations\"},/*#__PURE__*/React.createElement(\"div\",{className:\"subtitle\"},this.props.title,/*#__PURE__*/React.createElement(\"button\",{disabled:true,id:\"b\"+this.props.title,onClick:function onClick(){return _this4.buttonAction();}},this.menuPressed())),/*#__PURE__*/React.createElement(\"div\",{className:\"content\",id:this.props.title},this.state.status),/*#__PURE__*/React.createElement(\"div\",{id:\"lastBoot\"},\"LAST BOOT: \",this.state.lastBoot));}}]);return Monitoring;}(Component);//archiving\nexport{Monitoring as default};","map":{"version":3,"sources":["/home/reftek/seismic-sirius/src/modules/monitoring/monitoring.js"],"names":["React","Component","$","Monitoring","props","state","status","lastBoot","updateMonitor","menuPressed","setInterval","bind","fetch","title","toLowerCase","then","response","json","responseJson","setState","monitor","last","css","buttonAction"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAEqBC,CAAAA,U,wGAEjB,oBAAYC,KAAZ,CAAkB,4CACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,MAAM,CAAE,MAAKF,KAAL,CAAWE,MAApB,CAA4BC,QAAQ,CAAE,MAAKH,KAAL,CAAWG,QAAjD,CAAb,CAFc,aAGjB,C,oFAEkB,CACf,KAAKC,aAAL,GACA,KAAKC,WAAL,GACAC,WAAW,CAACA,WAAW,CAAC,KAAKF,aAAL,CAAmBG,IAAnB,CAAwB,IAAxB,CAAD,CAAgC,IAAhC,CAAZ,CAAX,CACH,C,qDAEc,iBACXC,KAAK,mDAA4C,KAAKR,KAAL,CAAWS,KAAX,CAAiBC,WAAjB,EAA5C,EAAL,CACKC,IADL,CACU,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADV,EAEKF,IAFL,CAEU,SAAAG,YAAY,CAAI,CAClB,MAAI,CAACC,QAAL,CAAc,CACVb,MAAM,CAAEY,YAAY,CAACE,OAAb,CAAqBd,MADnB,CAEVC,QAAQ,CAAEW,YAAY,CAACE,OAAb,CAAqBC,IAFrB,CAAd,EAIH,CAPL,EAQH,C,iDAEY,CACT,GAAG,KAAKhB,KAAL,CAAWC,MAAX,GAAsB,IAAzB,CAA8B,CAC1BJ,CAAC,0BAAmB,KAAKE,KAAL,CAAWS,KAA9B,EAAD,CAAwCS,GAAxC,CAA4C,CAAC,QAAS,kBAAV,CAA5C,EACApB,CAAC,0BAAmB,KAAKE,KAAL,CAAWS,KAA9B,EAAD,CAAwCS,GAAxC,CAA4C,CAAC,cAAe,iCAAhB,CAA5C,EACApB,CAAC,uBAAgB,KAAKE,KAAL,CAAWS,KAA3B,EAAD,CAAqCS,GAArC,CAAyC,CAAC,mBAAoB,KAArB,CAAzC,EACA,MAAO,MAAP,CACH,CALD,IAKO,CACHpB,CAAC,0BAAmB,KAAKE,KAAL,CAAWS,KAA9B,EAAD,CAAwCS,GAAxC,CAA4C,CAAC,QAAS,KAAV,CAA5C,EACApB,CAAC,0BAAmB,KAAKE,KAAL,CAAWS,KAA9B,EAAD,CAAwCS,GAAxC,CAA4C,CAAC,cAAe,oBAAhB,CAA5C,EACApB,CAAC,uBAAgB,KAAKE,KAAL,CAAWS,KAA3B,EAAD,CAAqCS,GAArC,CAAyC,CAAC,mBAAoB,kBAArB,CAAzC,EACA,MAAO,OAAP,CACH,CACJ,C,mDAEa,iBACVV,KAAK,2DAAoD,KAAKR,KAAL,CAAWS,KAAX,CAAiBC,WAAjB,EAApD,EAAL,CACKC,IADL,CACU,UAAK,CACP,GAAG,MAAI,CAACV,KAAL,CAAWC,MAAX,GAAsB,IAAzB,CAA8B,CAC1B,MAAI,CAACa,QAAL,CAAc,CAACb,MAAM,CAAE,KAAT,CAAd,EACH,CAFD,IAEO,CACH,MAAI,CAACa,QAAL,CAAc,CAACb,MAAM,CAAE,IAAT,CAAd,EACH,CACJ,CAPL,EAQH,C,uCAEO,iBACJ,mBAEI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,UAAf,EACK,KAAKF,KAAL,CAAWS,KADhB,cAEI,8BAAQ,QAAQ,KAAhB,CAAiB,EAAE,CAAE,IAAI,KAAKT,KAAL,CAAWS,KAApC,CAA2C,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACU,YAAL,EAAN,EAApD,EAAgF,KAAKd,WAAL,EAAhF,CAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,SAAf,CAAyB,EAAE,CAAE,KAAKL,KAAL,CAAWS,KAAxC,EAAgD,KAAKR,KAAL,CAAWC,MAA3D,CALJ,cAMI,2BAAK,EAAE,CAAC,UAAR,gBAA+B,KAAKD,KAAL,CAAWE,QAA1C,CANJ,CAFJ,CAYH,C,wBA9DmCN,S,EAgEvC;OAhEoBE,U","sourcesContent":["import React, {Component} from 'react';\nimport './monitoring.css';\nimport $ from 'jquery';\n\nexport default class Monitoring extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {status: this.props.status, lastBoot: this.props.lastBoot};\n    }\n\n    componentDidMount(){\n        this.updateMonitor();\n        this.menuPressed();\n        setInterval(setInterval(this.updateMonitor.bind(this), 1000));\n    }\n\n    updateMonitor(){\n        fetch(`http://10.0.38.242/api/index.php?option=${this.props.title.toLowerCase()}`)\n            .then((response) => response.json())\n            .then(responseJson => {\n                this.setState({\n                    status: responseJson.monitor.status,\n                    lastBoot: responseJson.monitor.last\n                })\n            });\n    }\n\n    menuPressed(){\n        if(this.state.status === \"ON\"){\n            $(`.informations #${this.props.title}`).css({\"color\": \"rgb(1, 176, 117)\"});\n            $(`.informations #${this.props.title}`).css({\"text-shadow\": \"0px 0.3px 4px  rgb(1, 176, 117)\"});\n            $(`.subtitle #b${this.props.title}`).css({\"background-color\": \"red\"});\n            return \"STOP\";\n        } else {\n            $(`.informations #${this.props.title}`).css({\"color\": \"red\"});\n            $(`.informations #${this.props.title}`).css({\"text-shadow\": \"0px 0.3px 4px  red\"});\n            $(`.subtitle #b${this.props.title}`).css({\"background-color\": \"rgb(1, 176, 117)\"});\n            return \"START\";\n        }\n    }\n\n    buttonAction(){\n        fetch(`http://10.0.38.242/api/updateMonitor.php?option=${this.props.title.toLowerCase()}`)\n            .then(() =>{\n                if(this.state.status === \"ON\"){\n                    this.setState({status: \"OFF\"});\n                } else {\n                    this.setState({status: \"ON\"});\n                }\n            })\n    }\n\n    render(){\n        return(\n\n            <div className=\"informations\">\n                <div className=\"subtitle\">\n                    {this.props.title} \n                    <button disabled id={\"b\"+this.props.title} onClick={() => this.buttonAction()}>{this.menuPressed()}</button>\n                </div>\n                <div className=\"content\" id={this.props.title}>{this.state.status}</div>\n                <div id=\"lastBoot\">LAST BOOT: {this.state.lastBoot}</div>\n            </div>\n\n        );\n    }\n\n}//archiving"]},"metadata":{},"sourceType":"module"}