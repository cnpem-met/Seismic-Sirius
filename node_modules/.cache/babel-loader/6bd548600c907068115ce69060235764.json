{"ast":null,"code":"var _jsxFileName = \"/home/reftek/seismic-sirius/src/modules/monitoring/monitoring.js\";\nimport React, { Component } from 'react';\nimport './monitoring.css';\nimport $ from 'jquery';\nexport default class Monitoring extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: this.props.status,\n      lastBoot: this.props.lastBoot\n    };\n  }\n\n  componentDidMount() {\n    this.updateMonitor();\n    this.menuPressed();\n    setInterval(setInterval(this.updateMonitor.bind(this), 1000));\n  }\n\n  updateMonitor() {\n    fetch(`http://192.168.0.16/api/index.php?option=${this.props.title.toLowerCase()}`).then(response => response.json()).then(responseJson => {\n      this.setState({\n        status: responseJson.monitor.status,\n        lastBoot: responseJson.monitor.last\n      });\n    });\n  }\n\n  menuPressed() {\n    if (this.state.status === \"ON\") {\n      $(`.informations #${this.props.title}`).css({\n        \"color\": \"rgb(1, 176, 117)\"\n      });\n      $(`.informations #${this.props.title}`).css({\n        \"text-shadow\": \"0px 0.3px 4px  rgb(1, 176, 117)\"\n      });\n      $(`.subtitle #b${this.props.title}`).css({\n        \"background-color\": \"red\"\n      });\n      return \"STOP\";\n    } else {\n      $(`.informations #${this.props.title}`).css({\n        \"color\": \"red\"\n      });\n      $(`.informations #${this.props.title}`).css({\n        \"text-shadow\": \"0px 0.3px 4px  red\"\n      });\n      $(`.subtitle #b${this.props.title}`).css({\n        \"background-color\": \"rgb(1, 176, 117)\"\n      });\n      return \"START\";\n    }\n  }\n\n  buttonAction() {\n    fetch(`http://192.168.0.16/api/updateMonitor.php?option=${this.props.title.toLowerCase()}`).then(() => {\n      if (this.state.status === \"ON\") {\n        this.setState({\n          status: \"OFF\"\n        });\n      } else {\n        this.setState({\n          status: \"ON\"\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"informations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, this.props.title, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: true,\n      id: \"b\" + this.props.title,\n      onClick: () => this.buttonAction(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, this.menuPressed())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      id: this.props.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, this.state.status), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"lastBoot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, \"LAST BOOT: \", this.state.lastBoot));\n  }\n\n} //archiving","map":{"version":3,"sources":["/home/reftek/seismic-sirius/src/modules/monitoring/monitoring.js"],"names":["React","Component","$","Monitoring","constructor","props","state","status","lastBoot","componentDidMount","updateMonitor","menuPressed","setInterval","bind","fetch","title","toLowerCase","then","response","json","responseJson","setState","monitor","last","css","buttonAction","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,kBAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAe,MAAMC,UAAN,SAAyBF,SAAzB,CAAkC;AAE7CG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWE,MAApB;AAA4BC,MAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG;AAAjD,KAAb;AACH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,aAAL;AACA,SAAKC,WAAL;AACAC,IAAAA,WAAW,CAACA,WAAW,CAAC,KAAKF,aAAL,CAAmBG,IAAnB,CAAwB,IAAxB,CAAD,EAAgC,IAAhC,CAAZ,CAAX;AACH;;AAEDH,EAAAA,aAAa,GAAE;AACXI,IAAAA,KAAK,CAAE,4CAA2C,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,WAAjB,EAA+B,EAA5E,CAAL,CACKC,IADL,CACWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADxB,EAEKF,IAFL,CAEUG,YAAY,IAAI;AAClB,WAAKC,QAAL,CAAc;AACVd,QAAAA,MAAM,EAAEa,YAAY,CAACE,OAAb,CAAqBf,MADnB;AAEVC,QAAAA,QAAQ,EAAEY,YAAY,CAACE,OAAb,CAAqBC;AAFrB,OAAd;AAIH,KAPL;AAQH;;AAEDZ,EAAAA,WAAW,GAAE;AACT,QAAG,KAAKL,KAAL,CAAWC,MAAX,KAAsB,IAAzB,EAA8B;AAC1BL,MAAAA,CAAC,CAAE,kBAAiB,KAAKG,KAAL,CAAWU,KAAM,EAApC,CAAD,CAAwCS,GAAxC,CAA4C;AAAC,iBAAS;AAAV,OAA5C;AACAtB,MAAAA,CAAC,CAAE,kBAAiB,KAAKG,KAAL,CAAWU,KAAM,EAApC,CAAD,CAAwCS,GAAxC,CAA4C;AAAC,uBAAe;AAAhB,OAA5C;AACAtB,MAAAA,CAAC,CAAE,eAAc,KAAKG,KAAL,CAAWU,KAAM,EAAjC,CAAD,CAAqCS,GAArC,CAAyC;AAAC,4BAAoB;AAArB,OAAzC;AACA,aAAO,MAAP;AACH,KALD,MAKO;AACHtB,MAAAA,CAAC,CAAE,kBAAiB,KAAKG,KAAL,CAAWU,KAAM,EAApC,CAAD,CAAwCS,GAAxC,CAA4C;AAAC,iBAAS;AAAV,OAA5C;AACAtB,MAAAA,CAAC,CAAE,kBAAiB,KAAKG,KAAL,CAAWU,KAAM,EAApC,CAAD,CAAwCS,GAAxC,CAA4C;AAAC,uBAAe;AAAhB,OAA5C;AACAtB,MAAAA,CAAC,CAAE,eAAc,KAAKG,KAAL,CAAWU,KAAM,EAAjC,CAAD,CAAqCS,GAArC,CAAyC;AAAC,4BAAoB;AAArB,OAAzC;AACA,aAAO,OAAP;AACH;AACJ;;AAEDC,EAAAA,YAAY,GAAE;AACVX,IAAAA,KAAK,CAAE,oDAAmD,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,WAAjB,EAA+B,EAApF,CAAL,CACKC,IADL,CACU,MAAK;AACP,UAAG,KAAKX,KAAL,CAAWC,MAAX,KAAsB,IAAzB,EAA8B;AAC1B,aAAKc,QAAL,CAAc;AAACd,UAAAA,MAAM,EAAE;AAAT,SAAd;AACH,OAFD,MAEO;AACH,aAAKc,QAAL,CAAc;AAACd,UAAAA,MAAM,EAAE;AAAT,SAAd;AACH;AACJ,KAPL;AAQH;;AAEDmB,EAAAA,MAAM,GAAE;AACJ,wBAEI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKrB,KAAL,CAAWU,KADhB,eAEI;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,EAAE,EAAE,MAAI,KAAKV,KAAL,CAAWU,KAApC;AAA2C,MAAA,OAAO,EAAE,MAAM,KAAKU,YAAL,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgF,KAAKd,WAAL,EAAhF,CAFJ,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAyB,MAAA,EAAE,EAAE,KAAKN,KAAL,CAAWU,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgD,KAAKT,KAAL,CAAWC,MAA3D,CALJ,eAMI;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA+B,KAAKD,KAAL,CAAWE,QAA1C,CANJ,CAFJ;AAYH;;AA9D4C,C,CAgEhD","sourcesContent":["import React, {Component} from 'react';\nimport './monitoring.css';\nimport $ from 'jquery';\n\nexport default class Monitoring extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {status: this.props.status, lastBoot: this.props.lastBoot};\n    }\n\n    componentDidMount(){\n        this.updateMonitor();\n        this.menuPressed();\n        setInterval(setInterval(this.updateMonitor.bind(this), 1000));\n    }\n\n    updateMonitor(){\n        fetch(`http://192.168.0.16/api/index.php?option=${this.props.title.toLowerCase()}`)\n            .then((response) => response.json())\n            .then(responseJson => {\n                this.setState({\n                    status: responseJson.monitor.status,\n                    lastBoot: responseJson.monitor.last\n                })\n            });\n    }\n\n    menuPressed(){\n        if(this.state.status === \"ON\"){\n            $(`.informations #${this.props.title}`).css({\"color\": \"rgb(1, 176, 117)\"});\n            $(`.informations #${this.props.title}`).css({\"text-shadow\": \"0px 0.3px 4px  rgb(1, 176, 117)\"});\n            $(`.subtitle #b${this.props.title}`).css({\"background-color\": \"red\"});\n            return \"STOP\";\n        } else {\n            $(`.informations #${this.props.title}`).css({\"color\": \"red\"});\n            $(`.informations #${this.props.title}`).css({\"text-shadow\": \"0px 0.3px 4px  red\"});\n            $(`.subtitle #b${this.props.title}`).css({\"background-color\": \"rgb(1, 176, 117)\"});\n            return \"START\";\n        }\n    }\n\n    buttonAction(){\n        fetch(`http://192.168.0.16/api/updateMonitor.php?option=${this.props.title.toLowerCase()}`)\n            .then(() =>{\n                if(this.state.status === \"ON\"){\n                    this.setState({status: \"OFF\"});\n                } else {\n                    this.setState({status: \"ON\"});\n                }\n            })\n    }\n\n    render(){\n        return(\n\n            <div className=\"informations\">\n                <div className=\"subtitle\">\n                    {this.props.title} \n                    <button disabled id={\"b\"+this.props.title} onClick={() => this.buttonAction()}>{this.menuPressed()}</button>\n                </div>\n                <div className=\"content\" id={this.props.title}>{this.state.status}</div>\n                <div id=\"lastBoot\">LAST BOOT: {this.state.lastBoot}</div>\n            </div>\n\n        );\n    }\n\n}//archiving"]},"metadata":{},"sourceType":"module"}