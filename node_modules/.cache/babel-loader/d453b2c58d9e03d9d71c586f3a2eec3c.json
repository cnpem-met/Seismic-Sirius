{"ast":null,"code":"import _classCallCheck from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/reftek/seismic-sirius/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import $ from'jquery';import'./speedometer.css';var Speedometer=/*#__PURE__*/function(_Component){_inherits(Speedometer,_Component);var _super=_createSuper(Speedometer);function Speedometer(props){var _this;_classCallCheck(this,Speedometer);_this=_super.call(this,props);_this.state={percentage:0};return _this;}_createClass(Speedometer,[{key:\"componentDidMount\",value:function componentDidMount(){this.setSpeed();setInterval(this.setSpeed.bind(this),5000);}},{key:\"setSpeed\",value:function setSpeed(){var _this2=this;fetch('http://10.0.38.242/api/index.php?option=samplerate').then(function(response){return response.json();}).then(function(responseJson){$('.semi-donut').css({\"--from\":\"\".concat(_this2.state.percentage*0.18,\"deg\")});$('.semi-donut').css({\"--to\":\"\".concat(responseJson.monitor.status*0.18,\"deg\")});$('.semi-donut').css({\"animation\":\"setSpeed 1s forwards\"});setTimeout(function(){$('.semi-donut').css({\"animation\":\"none\"});$('.semi-donut').css({\"transform\":\"rotate(\".concat(responseJson.monitor.status*0.18,\"deg)\")});},1000);_this2.setState({percentage:responseJson.monitor.status});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"speedometer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"circular-chart\"},/*#__PURE__*/React.createElement(\"div\",{className:\"semi-donut\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},this.state.percentage,\" Hz\")),/*#__PURE__*/React.createElement(\"div\",{className:\"chart-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"begin\"},this.props.begin),/*#__PURE__*/React.createElement(\"div\",{className:\"end\"},this.props.end)));}}]);return Speedometer;}(Component);export{Speedometer as default};","map":{"version":3,"sources":["/home/reftek/seismic-sirius/src/modules/speedometer/speedometer.js"],"names":["React","Component","$","Speedometer","props","state","percentage","setSpeed","setInterval","bind","fetch","then","response","json","responseJson","css","monitor","status","setTimeout","setState","begin","end"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAO,mBAAP,C,GAEqBC,CAAAA,W,0GAEjB,qBAAYC,KAAZ,CAAkB,6CACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,UAAU,CAAE,CAAb,CAAb,CAFc,aAGjB,C,qFAEkB,CACf,KAAKC,QAAL,GACAC,WAAW,CAAC,KAAKD,QAAL,CAAcE,IAAd,CAAmB,IAAnB,CAAD,CAA2B,IAA3B,CAAX,CACH,C,2CAES,iBACNC,KAAK,CAAC,oDAAD,CAAL,CACKC,IADL,CACU,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADV,EAEKF,IAFL,CAEU,SAAAG,YAAY,CAAI,CAClBZ,CAAC,CAAC,aAAD,CAAD,CAAiBa,GAAjB,CAAqB,CAAC,mBAAa,MAAI,CAACV,KAAL,CAAWC,UAAX,CAAwB,IAArC,OAAD,CAArB,EACAJ,CAAC,CAAC,aAAD,CAAD,CAAiBa,GAAjB,CAAqB,CAAC,iBAAWD,YAAY,CAACE,OAAb,CAAqBC,MAArB,CAA8B,IAAzC,OAAD,CAArB,EACAf,CAAC,CAAC,aAAD,CAAD,CAAiBa,GAAjB,CAAqB,CAAC,YAAa,sBAAd,CAArB,EACAG,UAAU,CAAC,UAAM,CACbhB,CAAC,CAAC,aAAD,CAAD,CAAiBa,GAAjB,CAAqB,CAAC,YAAa,MAAd,CAArB,EACAb,CAAC,CAAC,aAAD,CAAD,CAAiBa,GAAjB,CAAqB,CAAC,6BAAuBD,YAAY,CAACE,OAAb,CAAqBC,MAArB,CAA8B,IAArD,QAAD,CAArB,EACH,CAHS,CAGP,IAHO,CAAV,CAIA,MAAI,CAACE,QAAL,CAAc,CAACb,UAAU,CAAEQ,YAAY,CAACE,OAAb,CAAqBC,MAAlC,CAAd,EACH,CAXL,EAYH,C,uCAGO,CACJ,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,2BAAK,SAAS,CAAC,gBAAf,eACI,2BAAK,SAAS,CAAC,YAAf,EADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,EAA0B,KAAKZ,KAAL,CAAWC,UAArC,OAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,OAAf,EAAwB,KAAKF,KAAL,CAAWgB,KAAnC,CADJ,cAEI,2BAAK,SAAS,CAAC,KAAf,EAAsB,KAAKhB,KAAL,CAAWiB,GAAjC,CAFJ,CALJ,CADJ,CAYH,C,yBAzCoCpB,S,SAApBE,W","sourcesContent":["import React, {Component} from 'react';\nimport $ from 'jquery';\nimport './speedometer.css'\n\nexport default class Speedometer extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {percentage: 0}\n    }\n\n    componentDidMount(){\n        this.setSpeed();\n        setInterval(this.setSpeed.bind(this), 5000);\n    }\n\n    setSpeed(){\n        fetch('http://10.0.38.242/api/index.php?option=samplerate')\n            .then((response) => response.json())\n            .then(responseJson => {\n                $('.semi-donut').css({\"--from\": `${this.state.percentage * 0.18}deg`});\n                $('.semi-donut').css({\"--to\": `${responseJson.monitor.status * 0.18}deg`});\n                $('.semi-donut').css({\"animation\": \"setSpeed 1s forwards\"});\n                setTimeout(() => {\n                    $('.semi-donut').css({\"animation\": \"none\"});\n                    $('.semi-donut').css({\"transform\": `rotate(${responseJson.monitor.status * 0.18}deg)`});\n                }, 1000)\n                this.setState({percentage: responseJson.monitor.status})\n            });\n    }\n    \n\n    render(){\n        return(\n            <div className=\"speedometer\">\n                <div className=\"circular-chart\">\n                    <div className=\"semi-donut\"></div>\n                    <div className=\"content\">{this.state.percentage} Hz</div>\n                </div>\n                <div className=\"chart-footer\">\n                    <div className=\"begin\">{this.props.begin}</div>\n                    <div className=\"end\">{this.props.end}</div>\n                </div>\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}